# 2025-11-14

## 제안 사항

1. 미국 기업만 평가 대상으로 삼는다.
  나스닥같은 주가 종합 지수는 꾸준히 우상향 중이며 세계적인 기업들이 미국에 몰려있어 미국은 투자하기 매력적인 나라다.
  api: Alpha Vantage, IEX Cloud, Polygon.io 등이 유명하며, 대부분 제한적이나마 무료 플랜을 제공한다.

2. 거시 경제 반영
  개별 기업이 아무리 좋아도 시장 전체가 무너지는 상황(높은 금리, 인플레이션)에서는 위험하기 때문에 거시 경제에 관한 정보도 제공한다.

- `시장 환경 대시보드` (회사 평가와 별도로 구현)
  개별 기업 점수(100점)와 시장 환경 점수를 분리하는 방식입니다. 사용자가 투자를 결정할 때 두 가지를 모두 보도록 유도하는 거죠.
  UI/UX: 웹사이트 메인 페이지나 헤더(Header) 영역에 "현재 미국 시장 환경" 위젯을 만듭니다.
  `예: "시장 위험도: ⚠️ 높음 (고금리 및 인플레이션 우려)"`

- 거시 경제 데이터를 가져올 새로운 API가 필요합니다.
가장 강력한 무료 API는 **FRED (Federal Reserve Economic Data)**입니다. 세인트루이스 연은에서 제공하며, 이자율(DFF), 실업률(UNRATE), 인플레이션(CPIAUCSL) 등 거의 모든 데이터를 API로 제공합니다.

- MacroDataService 같은 서비스를 새로 만듭니다.
  @Scheduled를 이용해 매월 또는 매주 이 지표들을 가져와서 DB에 저장합니다.

3. 미국 채권: '시장 환경 대시보드'의 완성

- 주식과 채권은 대체 투자 관계입니다. '시장 환경 대시보드'에 채권 정보를 추가하는 것은 사용자가 "지금 주식 투자가 매력적인가?"를 판단하는 데 결정적인 정보를 줍니다.

- 핵심 지표: 모든 채권을 보여줄 필요 없이, 가장 중요한 두 가지만 보여주면 됩니다.

  1) 미 10년물 국채 금리 (U.S. 10-Year Treasury Yield)
  - 이것이 바로 '무위험 수익률'의 기준입니다.
  `대시보드 표시 (예시): "현재 10년물 국채 금리: 4.5%"`
  해석 제공: "이 금리가 높을수록 (예: 4% 이상) 주식의 매력도는 떨어집니다."

  2) 장단기 금리차 (10-Year vs. 2-Year Yield Spread)
  - 가장 강력한 경기 침체 예측 지표입니다. (2년물 금리 > 10년물 금리 = '장단기 금리 역전')
  `대시보드 표시 (예시): "장단기 금리차: -0.25% (🚨 경기 침체 경고)"`

이 데이터 역시 FRED (Federal Reserve Economic Data) API를 통해 모두 가져올 수 있습니다. (Ticker: DGS10, DGS2)

4. 기업 투자
- 기업의 투자를 '가산점'과 '감점' 요인으로 모두 활용. 투자에 적극적인 기업은 단순히 근시안적인 안목으로 회사를 경영하는 것이 아니라는 의미니까 장기 투자에 좋은 정보같음.
  기업 평가 기준을 보수적으로 잡은 것도 사실 장기 투자를 고려해서 그런거니까 사이트 목적에 부합함.
  하지만 시장 이자율이 높은데 투자를 많이하면 이자 비용이 높아지니까 그런 상황에선 감점을 주는 것도 생각중.

이는 '기업 점수(100점)' 계산 로직인 ScoringService에서 구현되어야 합니다.


필요한 데이터:

  1) 투자와 관련된 기업 데이터 (재무제표)
    - CapEx (Capital Expenditures, 자본 지출): 현금흐름표에 나옵니다.
    - R&D (Research & Development, 연구 개발비): 손익계산서에 나옵니다.
    - 부채 비율 (안정성 평가 시 이미 계산됨)

  2) 거시 데이터 (FRED)
    - 미 10년물 국채 금리 (시장 이자율의 기준)

* 스코어링 로직 (ScoringService)

`가산점: "장기 투자를 하고 있는가?" (+10점)`

기준:
  1) '매출 대비 R&D 비율' 또는 '매출 대비 CapEx 비율'이 꾸준히 높거나 업종 평균보다 높은가?

적용: '수익성' 또는 '성장성' 항목에 보너스 점수를 부여합니다.
의미: 근시안적 경영이 아닌, 미래를 위해 투자하고 있음을 의미합니다.

`감점: "무리한 투자를 하고 있는가?" (-15점)`

기준:
1) 시장 이자율(10년물 금리)이 높은가? (예: 4% 이상)
2) CapEx 또는 R&D 투자를 공격적으로 늘리고 있는가?
3) 이 투자를 감당할 만큼 부채 비율이 낮거나 영업 현금 흐름이 튼튼하지 않은가?

적용: 위 3가지가 모두 해당하면, '안정성' 항목에서 **큰 폭의 페널티(감점)**를 줍니다.
의미: 고금리 시기에 무리하게 빚을 내서 투자하는 것은 재무 건전성을 심각하게 해칠 수 있다는 '보수적' 관점을 반영합니다.


기업 평가 점수 로직 (100점 만점 + @)
"거시 경제가 나쁠 때 기업 가치가 전반적으로 하락한다"는 의견을 반영하여, '거시 환경 페널티' 항목을 신설하는 것을 제안합니다.

* 그래서 결국 수정된 스코어링 로직은 다음과 같다.

1) 기본 점수 (100점 만점)

- 안정성 (40점): "망하지 않을 기업인가?" (보수적 평가의 핵심)

부채비율 (낮을수록 좋음)

유동비율 (높을수록 좋음)

영업 현금흐름 (꾸준히 +인가?)

- 수익성 (30점): "돈을 잘 버는가?"

ROE (자기자본이익률)

영업이익률 및 성장률

- 가치 평가 (20점): "현재 주가가 싼가?"

PER (업종 평균 대비)

PBR (1 미만인가?)

- 미래 투자 (10점): "미래를 위해 투자하는가?" (제안 주신 '적극적 투자' 가산점)

매출 대비 R&D 비율

매출 대비 CapEx(설비투자) 비율

2) 동적 페널티 (감점 항목)

기본 점수 100점을 받은 기업이라도, 아래 조건에 해당하면 점수를 차감합니다.

① 과락 (Disqualification) (-100점, 즉시 0점 처리):

3년 내 2회 이상 영업이익 적자

부채비율 400% 초과

영업 현금흐름 2년 연속 마이너스

② 고금리 시기 위험 투자 페널티 (-15점):

조건: (현재 기준 금리 높음) AND (해당 기업 부채비율 높음) AND (CapEx 투자 공격적)

의미: 고금리 시기에 무리하게 빚내서 투자하는 위험한 기업 감점.

③ 거시 경제 악화 페널티 (-10점):

조건: (장단기 금리차 역전) OR (실업률 급등) 등 경기 침체 신호 발생 시

의미: 시장 전체의 위험(Risk-off)을 반영하여, 모든 기업의 투자 매력도를 일정 부분 차감합니다.


### Backend (Spring Boot)

`MacroDataService (FRED API)`

수집 대상: 이자율(DFF), 실업률, 인플레이션 (기존)

기존 로직에 10년물(DGS10), 2년물(DGS2) 금리를 추가로 수집하여 MacroEconomicData 테이블에 저장합니다.


`FinancialDataService (Alpha Vantage API 등)`

수집 대상: 매출, 이익, 자산, 부채 (기존)

추가: 현금흐름표의 CapEx, 손익계산서의 R&D

`ScoringService (핵심 로직)`

(A) FinancialDataService의 데이터로 기본 점수(안정성, 수익성) 계산.

(B) '매출 대비 R&D/CapEx' 비율을 계산하여 가산점 반영.

(C) MacroDataService의 '10년물 금리'와 기업의 '부채비율', 'CapEx'를 비교하여 감점 페널티 반영.

### Frontend (React)

`MacroDashboard (메인 페이지)`

미국 경제 상황 (이자율, 실업률)

추가: 채권 시장 현황 (10년물 금리, 장단기 금리차 및 '경기 침체' 경고)

`CompanyDetailPage (상세 페이지)`

최종 100점 만점 점수 표시.

점수 세부 내역에 "투자 적극성 (+10점)" 또는 "고금리 상황에서 투자 확대 (-15점)" 같은 항목을 명시적으로 보여주어, 왜 이 점수가 나왔는지 사용자가 납득할 수 있게 합니다.

### ERD (신규 테이블)

MacroEconomicData (거시 경제 데이터)

data_id (PK)

metric_name (지표명, 예: 'FED_FUNDS_RATE', 'CPI')

metric_value (지표 값)

recorded_date (기록일)


